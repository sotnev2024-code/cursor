# Функция выбора графика работы для специалистов

## Описание

Добавлена возможность выбора типа графика работы для специалистов:
- **5x2** - стандартный график (5 рабочих дней, 2 выходных)
- **2x2** - сменный график (2 рабочих дня, 2 выходных)
- **Свободный график** - возможность выбирать конкретные даты работы

## Изменения в базе данных

### Модель Specialist (database/models.py)

Добавлены новые поля:
- `schedule_type` (String, default='5x2') - тип графика работы
- `work_dates` (Text, JSON) - массив дат работы для свободного графика

### Методы модели

- `get_work_dates()` - возвращает список дат работы для свободного графика

## Изменения в Backend

### routes/specialists.py

Обновлены методы:
- `create_specialist()` - сохранение типа графика и дат работы
- `update_specialist()` - обновление типа графика и дат работы

## Изменения в Frontend

### js/modals/specialistModal.js

Добавлены:
- Выбор типа графика (выпадающий список)
- Контейнер для выбора дат (отображается только для свободного графика)
- Календарь для выбора дат работы
- Список выбранных дат с возможностью удаления

Новые методы:
- `onScheduleTypeChange()` - обработчик изменения типа графика
- `addWorkDate()` - добавление даты работы
- `removeWorkDate(date)` - удаление даты работы
- `updateWorkDatesList()` - обновление списка дат
- `getWorkDates()` - получение списка выбранных дат

### js/modules/specialists.js

Обновлен метод `save()`:
- Добавлено сохранение `schedule_type`
- Добавлено сохранение `work_dates` для свободного графика

## Использование

1. При создании/редактировании специалиста выберите тип графика
2. Если выбран "Свободный график":
   - Появится календарь для выбора дат
   - Выберите дату и нажмите "Добавить дату"
   - Выбранные даты отобразятся в виде бейджей
   - Можно удалить дату, нажав на крестик в бейдже

## Формат данных

### schedule_type
- `'5x2'` - стандартный график
- `'2x2'` - сменный график
- `'flexible'` - свободный график

### work_dates
Массив строк в формате ISO (YYYY-MM-DD):
```json
["2024-01-15", "2024-01-16", "2024-01-20"]
```

## Миграция базы данных

При первом запуске после обновления:
1. Flask автоматически создаст новые поля в таблице `specialists`
2. Существующие специалисты получат значение по умолчанию `schedule_type='5x2'`
3. `work_dates` будет `NULL` для всех существующих записей

## Дальнейшее развитие

В будущем можно добавить:
- Автоматическое определение рабочих дней для графиков 5x2 и 2x2
- Визуальный календарь для выбора дат
- Массовое добавление дат (например, все понедельники месяца)
- Экспорт графика работы специалиста

